[tox]
envlist=
    py37-pip{2400,2332,2331,233,2321,232,2312,2311,231,2301,230,2231,223,2222,2221,222,2212,2211,221,2204,2203,2202,2201,220,2131,213,2124,2123,2122,2121,212,2113,2112,2111,211,2101,210,2034,2033,2031,203,2024,2023,2022,2021,202,201,2002,2001,1931,193,1923,1922,1921,192,1911,191,1903,1902,1901,190,181},
    py38-pip{2400,2332,2331,233,2321,232,2312,2311,231,2301,230,2231,223,2222,2221,222,2212,2211,221,2204,2203,2202,2201,220,2131,213,2124,2123,2122,2121,212,2113,2112,2111,211,2101,210,2034,2033,2031,203,2024,2023,2022,2021,202,201,2002,2001,1931},
    py39-pip{2400,2332,2331,233,2321,232,2312,2311,231,2301,230,2231,223,2222,2221,222,2212,2211,221,2204,2203,2202,2201,220,2131,213,2124,2123,2122,2121,212,2113,2112,2111,211,2101,210,2034,2033,2031,203},
    py310-pip{2400,2332,2331,233,2321,232,2312,2311,231,2301,230,2231,223,2222,2221,222,2212,2211,221,2204,2203,2202,2201,220,2131,213},
    py311-pip{2400,2332,2331,233,2321,232,2312,2311,231,2301,230,2231,223,2222,2221,222},
    py312-pip{2400,2332,2331,233,2321,232},
    lint

[testenv]
usedevelop=True
deps=
    pretend
    pytest
    virtualenv>20
    pip2400: pip==24.0.0
    pip2332: pip==23.3.2
    pip2331: pip==23.3.1
    pip233: pip==23.3
    pip2321: pip==23.2.1
    pip232: pip==23.2
    pip2312: pip==23.1.2
    pip2311: pip==23.1.1
    pip231: pip==23.1
    pip2301: pip==23.0.1
    pip230: pip==23.0
    pip2231: pip==22.3.1
    pip223: pip==22.3
    pip2222: pip==22.2.2
    pip2221: pip==22.2.1
    pip222: pip==22.2
    pip2212: pip==22.1.2
    pip2211: pip==22.1.1
    pip221: pip==22.1
    pip2204: pip==22.0.4
    pip2203: pip==22.0.3
    pip2202: pip==22.0.2
    pip2201: pip==22.0.1
    pip220: pip==22.0
    pip2131: pip==21.3.1
    pip213: pip==21.3
    pip2124: pip==21.2.4
    pip2123: pip==21.2.3
    pip2122: pip==21.2.2
    pip2121: pip==21.2.1
    pip212: pip==21.2
    pip2113: pip==21.1.3
    pip2112: pip==21.1.2
    pip2111: pip==21.1.1
    pip211: pip==21.1
    pip2101: pip==21.0.1
    pip210: pip==21.0
    pip2034: pip==20.3.4
    pip2033: pip==20.3.3
#   pip2032: pip==20.3.2 FUBAR
    pip2031: pip==20.3.1
    pip203: pip==20.3
    pip2024: pip==20.2.4
    pip2023: pip==20.2.3
    pip2022: pip==20.2.2
    pip2021: pip==20.2.1
    pip202: pip==20.2
    pip201: pip==20.1
    pip2002: pip==20.0.2
    pip2001: pip==20.0.1
#   pip200: pip==20.0 FUBAR
    pip1931: pip==19.3.1
    pip193: pip==19.3
    pip1923: pip==19.2.3
    pip1922: pip==19.2.2
    pip1921: pip==19.2.1
    pip192: pip==19.2
    pip1911: pip==19.1.1
    pip191: pip==19.1
    pip1903: pip==19.0.3
    pip1902: pip==19.0.2
    pip1901: pip==19.0.1
    pip190: pip==19.0
    pip181: pip==18.1
    pip180: pip==18.0
    pip101: pip==10.0.1
    pip100: pip==10.0.0
    pip903: pip==9.0.3
    pip902: pip==9.0.2
    pip901: pip==9.0.1
    pip900: pip==9.0.0
    pip812: pip==8.1.2
    pip811: pip==8.1.1
    pip810: pip==8.1.0
    pip803: pip==8.0.3
    pip802: pip==8.0.2
    pip801: pip==8.0.1
    pip800: pip==8.0.0

commands=
    py.test {posargs} --durations=0

[testenv:py37-pip191]
setenv = PIP_USE_PEP517 = false
usedevelop = {[testenv]usedevelop}
deps = {[testenv]deps}
commands =
    {[testenv]commands}

[testenv:pre]
install_command = pip install --pre -U {opts} {packages}
deps=
    pretend
    pytest
    virtualenv>20
    pip

commands=
    pip --version
    py.test {posargs}

[testenv:lint]
deps=
    black
commands=
    black --check .

[pytest]
xfail_strict=true
